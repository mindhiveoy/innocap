(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{11208:(n,e,t)=>{Promise.resolve().then(t.bind(t,15411))},15411:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>nP});var i=t(54568),r=t(77844),a=t(30227),o=t(7620),c=t(57826),s=t(46455),l=t(22108),d=t(73865),p=t(58927),x=t(22662),u=t(31213),h=t(3791),m=t(95745),g=t(38421),f=t(9988),b=t(37702),j=t(57388),v=t(23561),y=t(41906),A=t(35567),k=t(32625),w=t(81905),I=t(2146),C=t(55082),_=t(53579),E=t(79491),M=t(22453),S=t(36801),F=t(76801),T=t(52991),D=t(82112),L=t(32757),N=t(83828),z=t(4295),R=t(8886),B=t(68708),H=t(51372),Y=t(79085),O=t(82390),P=t(17950),G=t(31124),W=t(61124),K=t(40250),V=t(69445);function X(){let n=(0,m._)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: flex-end;\n  width: 32px;\n  height: 32px;\n"]);return X=function(){return n},n}function Z(){let n=(0,m._)(["\n  font-size: 0.75rem;\n  color: inherit;\n  transition: font-weight 0.1s ease-in-out;\n\n  &.pinned {\n    font-weight: 800;\n  }\n"]);return Z=function(){return n},n}function q(){let n=(0,m._)(["\n  width: 100%;\n"]);return q=function(){return n},n}let U=u.A.div(n=>{let{theme:e}=n;return"\n  background: ".concat(e.palette.background.paper,";\n  border: 1px solid ").concat(e.palette.divider,";\n  border-radius: ").concat(e.shape.borderRadius,"px;\n  padding: ").concat(e.spacing(1,2),";\n  margin-bottom: ").concat(e.spacing(1),";\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    border: 1px solid ").concat(e.palette.secondary.main,";\n  }\n  &.selected {\n    border: 2px solid ").concat(e.palette.secondary.main,";\n    box-shadow: rgba(230, 137, 57, 0.24) 0px 3px 8px;\n  }\n")}),$=u.A.div(n=>{let{theme:e}=n;return"\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ".concat(e.spacing(1),";\n")}),J=u.A.div(n=>{let{theme:e}=n;return"\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  color: ".concat(e.palette.primary.darkest,";\n")}),Q=u.A.div(n=>{let{theme:e}=n;return"\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: ".concat(e.spacing(1),";\n")}),nn=u.A.div(X()),ne=u.A.div(n=>{let{theme:e}=n;return"\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0;\n  border-radius: ".concat(e.shape.borderRadius,"px;\n  margin-left: -1;\n  width: 100%;\n  color: ").concat(e.palette.primary.darkest,";\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: #dd7c00;\n    \n    .pin-icon, ").concat(ni," {\n      color: #dd7c00;\n    }\n  }\n  \n  &.pinned {\n    color: #dd7c00;\n    \n    .pin-icon {\n      position: relative;\n      top: -1px;\n      transform: rotate(-45deg);\n    }\n  }\n\n  &.disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    \n    .MuiTypography-root {\n      color: ").concat(e.palette.text.disabled,";\n    }\n  }\n")}),nt=u.A.button(n=>{let{theme:e}=n;return"\n  display: flex;\n  align-items: center;\n  gap: ".concat(e.spacing(1),";\n  background: none;\n  border: none;\n  padding: 0;\n  margin: ").concat(e.spacing(2,1,3,0),";\n  cursor: pointer;\n  color: inherit;\n  text-align: left;\n  \n  &:focus-visible {\n    outline: none;\n    padding: ").concat(e.spacing(0,1),";\n    margin: ").concat(e.spacing(2,0,3,-1),";\n    box-shadow: 0 0 0 1px ").concat(e.palette.primary.main,";\n    border-radius: ").concat(e.shape.borderRadius,"px;\n    background-color: ").concat(e.palette.action.hover,";\n  }\n  \n  .pin-icon {\n    transition: transform 0.2s ease-in-out;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n")}),ni=(0,u.A)(s.A)(Z()),nr=u.A.div(q()),na=(0,u.A)(s.A)(n=>{let{theme:e}=n;return"\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  width: 100%;\n  color: ".concat(e.palette.text.secondary,";\n")}),no={DirectionsBus:j.A,MapsHomeWork:k.A,Forest:w.A,Home:h.A,SolarPower:I.A,EnergySavingsLeaf:_.A,WindPower:D.A,Water:T.A,Thermostat:F.A,Agriculture:S.A,ShoppingBag:P.A,WaterDrop:C.A,Co2:f.A,Recycling:b.A,Groups:B.A,ElectricalServices:R.A,DryCleaning:O.A,LocalGasStation:H.A,EvStation:Y.A,HomeIcon:h.A},nc=function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,t=n.replace("#",""),i=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16),o=Math.min(Math.round(i+(255-i)*e),255),c=Math.min(Math.round(r+(255-r)*e),255),s=Math.min(Math.round(a+(255-a)*e),255);return"#".concat(o.toString(16).padStart(2,"0")).concat(c.toString(16).padStart(2,"0")).concat(s.toString(16).padStart(2,"0"))},ns=n=>{let{iconName:e,color:t="#083553"}=n,r=no[e.replace(/Icon$/,"")]||no.Home,a=t.trim().replace(/\t/g,""),o=nc(a);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{width:0,height:0,children:(0,i.jsxs)("linearGradient",{id:"gradient-".concat(a),x1:0,y1:0,x2:0,y2:1,children:[(0,i.jsx)("stop",{offset:0,stopColor:o}),(0,i.jsx)("stop",{offset:1,stopColor:a})]})}),(0,i.jsx)(r,{sx:{fill:"url(#gradient-".concat(a,")")}})]})},nl={Terrain:v.A,LocationOn:y.A,BarChart:A.A},nd=u.A.div(n=>{let{theme:e}=n;return"\n  display: flex;\n  align-items: center;\n  gap: ".concat(e.spacing(1),";\n  color: ").concat(e.palette.primary.darkest,';\n\n  .MuiSvgIcon-root[data-testid="LocationOnIcon"] {\n    margin-left: -4px;\n    margin-right: 4px;\n  }\n')}),np=n=>{let{iconName:e}=n,t=nl[e]||v.A;return(0,i.jsx)(nd,{children:(0,i.jsx)(t,{})})},nx=(0,u.A)(l.A)(n=>{let{theme:e}=n;return"\n  margin-bottom: ".concat(e.spacing(1),";\n  background: ").concat(e.palette.background.paper,";\n  border-radius: 24px;\n  padding: ").concat(e.spacing(0),";\n  width: fit-content;\n  border: 1px solid ").concat(e.palette.divider,";\n  \n  \n  .MuiToggleButton-root {\n    border: none;\n    border-radius: 20px;\n    padding: ").concat(e.spacing(.6,1.7),";\n    text-transform: none;\n    font-size: 0.75rem;\n    color: ").concat(e.palette.text.secondary,";\n    \n    &:hover {\n      background: ").concat(e.palette.action.hover,";\n    }\n    \n    &.Mui-selected {\n      background: ").concat(e.palette.primary.main,";\n      color: ").concat(e.palette.common.white,";\n      &:hover {\n        background: ").concat(e.palette.primary.dark,";\n      }\n    }\n  }\n")}),nu=n=>{let{indicator:e}=n,{selectedIndicator:t,setSelectedIndicator:r,isPinned:c,togglePin:l,setPinnedIndicatorYear:d}=(0,L.h)(),{municipalityData:p,barChartData:u}=(0,z.E)(),h=(0,o.useRef)(null),[m,f]=(0,o.useState)(!1),[b,j]=(0,o.useState)(null),{t:v}=(0,G.Bd)(),{currentLanguage:y}=(0,W.o)(),A=(0,V.u)(),k=(0,o.useMemo)(()=>(null==t?void 0:t.id)===(null==e?void 0:e.id),[null==t?void 0:t.id,null==e?void 0:e.id]),w=(0,o.useMemo)(()=>c(e),[c,e]),I=(0,o.useMemo)(()=>{if(!e||e.indicatorType!==N._.MunicipalityLevel&&e.indicatorType!==N._.BarChart)return[];let n=e.indicatorType===N._.MunicipalityLevel?p:u;return Array.from(new Set(null==n?void 0:n.filter(n=>n.id===e.id).map(n=>n.year.toString()))).sort((n,e)=>parseInt(e)-parseInt(n))},[e,p,u]);(0,o.useEffect)(()=>{if(k&&I.length>0){if(b)w||r({...e,selectedYear:parseInt(b)});else{let n=I[0];j(n),w||r({...e,selectedYear:parseInt(n)})}}},[k,I,b,e,r,w]);let C=(0,o.useCallback)(()=>{w||(r(k?null:e),(0,K.sx)({category:"Indicator",action:"select",label:"".concat(e.id," - ").concat(e.indicatorNameFi)}))},[k,e,r,w]),_=(0,o.useCallback)(n=>{n.stopPropagation(),l(e)},[l,e]),S=(0,o.useCallback)((n,t)=>{if(j(t),w){let n=t?parseInt(t):void 0;d(n),k&&r({...e,selectedYear:n});return}k&&(r(null),setTimeout(()=>{r({...e,selectedYear:t?parseInt(t):void 0})},0))},[k,w,e,r,d]),F=(0,o.useCallback)((n,e)=>{("Enter"===n.key||" "===n.key)&&(n.preventDefault(),S(null,e))},[S]);return((0,o.useEffect)(()=>{let n=h.current;n&&f(n.scrollWidth>n.clientWidth)},[null==e?void 0:e.sourceEn,null==e?void 0:e.sourceFi]),e)?(0,i.jsxs)(U,{onClick:C,className:k?"selected":"",role:"button",tabIndex:0,"aria-pressed":k,"aria-label":"".concat("fi"===y?e.indicatorNameFi:e.indicatorNameEn," indicator card"),onKeyDown:n=>{("Enter"===n.key||" "===n.key)&&(n.preventDefault(),C())},children:[(0,i.jsx)($,{theme:A,children:(0,i.jsxs)(J,{children:[(0,i.jsxs)(a.A,{display:"flex",alignItems:"center",gap:1,children:[(0,i.jsx)(np,{iconName:e.indicatorTypeIcon}),(0,i.jsx)(s.A,{variant:"paragraph",color:"text.secondary",children:"Green"===e.category?v("indicators.greenTransition"):""}),(0,i.jsx)(nn,{children:(0,i.jsx)(ns,{color:(null==e?void 0:e.color)||"#083553",iconName:(null==e?void 0:e.iconName)||"HomeIcon"})})]}),(0,i.jsx)(Q,{children:(0,i.jsx)(s.A,{variant:"h6",component:"span",children:"fi"===y?e.indicatorNameFi:e.indicatorNameEn})})]})}),m?(0,i.jsx)(g.A,{title:"fi"===y?e.sourceFi:e.sourceEn,placement:"right",children:(0,i.jsx)(nr,{children:(0,i.jsx)(na,{ref:h,variant:"paragraph",children:"fi"===y?e.sourceFi:e.sourceEn})})}):(0,i.jsx)(nr,{children:(0,i.jsx)(na,{ref:h,variant:"paragraph",children:"fi"===y?e.sourceFi:e.sourceEn})}),(0,i.jsxs)(a.A,{children:[(0,i.jsx)(ne,{className:"".concat(w?"pinned":""," ").concat(""),children:(0,i.jsxs)(nt,{onClick:_,onKeyDown:n=>{("Enter"===n.key||" "===n.key)&&(n.preventDefault(),_(n))},disabled:!1,"aria-label":w?v("indicators.unpinFromMap"):v("indicators.pinToMap"),style:{color:w?"var(--mui-palette-primary-main)":"var(--mui-palette-primary-darkest)"},tabIndex:0,children:[(0,i.jsx)("span",{className:"pin-icon","aria-hidden":"true",children:w?(0,i.jsx)(E.A,{}):(0,i.jsx)(M.A,{})}),(0,i.jsx)(ni,{className:w?"pinned":"",children:w?v("indicators.unpinFromMap"):v("indicators.pinToMap")})]})}),(e.indicatorType===N._.MunicipalityLevel||e.indicatorType===N._.BarChart)&&I.length>0&&(0,i.jsx)(nx,{value:b,exclusive:!0,onChange:S,"aria-label":v("indicators.selectYear",{indicator:"fi"===y?e.indicatorNameFi:e.indicatorNameEn}),children:I.map(n=>(0,i.jsx)(x.A,{value:n,onKeyDown:e=>F(e,n),"aria-label":v("indicators.yearButton",{year:n}),children:n},n))})]})]}):null};var nh=t(71110),nm=t(48504),ng=t(41870),nf=t(29298),nb=t(98869),nj=t(3505);let nv=u.A.nav(n=>{let{theme:e}=n;return"\n  background-color: ".concat(e.palette.background.paper,";\n  border-right: 1px solid ").concat(e.palette.divider,";\n  display: flex;\n  position: fixed;\n  z-index: 1200;\n\n  @media (min-width: 769px) {\n    top: 0;\n    left: 0;\n    width: ").concat(90,"px;\n    height: 100vh;\n    flex-direction: column;\n    padding: ").concat(e.spacing(1),";\n  }\n\n  @media (max-width: 768px) {\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: ").concat(64,"px;\n    border-right: none;\n    border-top: 1px solid ").concat(e.palette.divider,";\n  }\n")}),ny=(0,u.A)(c.A)(n=>{let{theme:e}=n;return"\n  width: 100%;\n  padding: 0;\n  \n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    height: 100%;\n    padding: ".concat(e.spacing(1,0),";\n  }\n")}),nA=u.A.button(n=>{let{theme:e}=n;return"\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: ".concat(e.spacing(1),";\n  cursor: pointer;\n  width: 100%;\n  border: none;\n  background: none;\n  border-radius: ").concat(e.shape.borderRadius,"px;\n  transition: all 0.2s ease-in-out;\n  color: ").concat(e.palette.text.primary,";\n  -webkit-tap-highlight-color: transparent;\n  -webkit-appearance: none;\n  appearance: none;\n\n  &:hover {\n    background-color: ").concat(e.palette.action.hover,";\n  }\n\n  &:focus-visible {\n    outline: none;\n    box-shadow: 0 0 0 2px ").concat(e.palette.primary.main,";\n  }\n\n  &.selected {\n    background: ").concat(e.palette.gradient.primary,";\n    color: ").concat(e.palette.common.white,";\n  }\n\n  @media (max-width: 768px) {\n    width: ").concat(56,"px;\n    min-width: ").concat(48,"px;\n    flex: 0 0 auto;\n    justify-content: center;\n    margin: ").concat(e.spacing(.75),";\n    padding: ").concat(e.spacing(.5),";\n    height: ").concat(48,"px;\n  }\n")}),nk=u.A.div(n=>{let{theme:e}=n;return"\n  position: fixed;\n  background-color: rgba(255, 255, 255, 0.70);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n  transition: transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms;\n  z-index: 1100;\n  box-shadow: ".concat(e.shadows[3],";\n  overflow: auto;\n\n  @media (max-width: 768px) {\n    left: 0;\n    bottom: ").concat(64,"px;\n    width: 100%;\n    height: calc(100dvh - ").concat(64,"px);\n    max-height: calc(100dvh - ").concat(64,"px);\n    border-top: 1px solid ").concat(e.palette.divider,";\n    transform: translateY(100%);\n    border-top-left-radius: ").concat(e.shape.borderRadius,"px;\n    border-top-right-radius: ").concat(e.shape.borderRadius,"px;\n  }\n\n  @media (min-width: 769px) {\n    left: ").concat(90,"px;\n    top: 0;\n    width: ").concat(360,"px;\n    height: 100vh;\n    border-right: 1px solid ").concat(e.palette.divider,";\n    transform: translateX(-100%);\n  }\n\n  &.open {\n    transform: translateX(0) translateY(0);\n  }\n")}),nw=(0,u.A)(s.A)(n=>{let{theme:e}=n;return"\n  color: ".concat(e.palette.text.secondary,";\n  font-weight: 500;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.4px;\n  margin-bottom: ").concat(e.spacing(1),";\n")}),nI=(0,u.A)(a.A)(n=>{let{theme:e}=n;return"\n  display: flex;\n  flex-direction: column;\n  padding: ".concat(e.spacing(3,2),";\n  gap: ").concat(e.spacing(2),";\n")}),nC=(0,u.A)(a.A)(n=>{let{theme:e}=n;return"\n  display: flex;\n  flex-direction: column;\n  gap: ".concat(e.spacing(4),";\n  margin-top: ").concat(e.spacing(3),";\n  align-items: center;\n  justify-content: center;\n\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n")}),n_=(0,u.A)(a.A)(n=>{let{theme:e}=n;return"\n  display: flex;\n  align-items: center;\n  padding: ".concat(e.spacing(2,2),";\n  position: sticky;\n  top: 0;\n  background-color: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(5px);\n  z-index: 1;\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;\n  gap: ").concat(e.spacing(2),";\n  \n  @media (max-width: 768px) {\n    justify-content: space-between;\n  }\n  \n  @media (min-width: 769px) {\n    justify-content: space-between;\n  }\n\n  h2 {\n    margin: 0;\n    flex: 1;\n    font-size: ").concat(e.typography.h2.fontSize,";\n    \n    @media (max-width: 1200px) {\n      font-size: 1.25rem;\n    }\n  }\n")}),nE=u.A.button(n=>{let{theme:e}=n;return"\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: ".concat(e.palette.primary.main,";\n  width: 40px;\n  height: 40px;\n  border: none;\n  background: none;\n  border-radius: ").concat(e.shape.borderRadius,"px;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &:focus-visible {\n    outline: none;\n    box-shadow: 0 0 0 2px ").concat(e.palette.primary.main,";\n    transform: scale(1.1);\n  }\n\n  svg {\n    display: block;\n    margin: auto;\n  }\n")}),nM=(0,u.A)(a.A)(n=>{let{theme:e}=n;return"\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: ".concat(e.spacing(1),";\n  padding-top: ").concat(e.spacing(2),";\n  margin-bottom: ").concat(e.spacing(2),";\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n")}),nS=(0,u.A)(a.A)(n=>{let{theme:e}=n;return"\n  width: 65px;\n  height: 65px;\n  background-color: ".concat(e.palette.primary.darkest,";\n  border-radius: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  img {\n    width: auto;\n    height: 50px;\n    object-fit: contain;\n    margin-bottom: -5px;\n  }\n")}),nF=(0,u.A)(l.A)(n=>{let{theme:e}=n;return"\n  width: 100%;\n  gap: ".concat(e.spacing(2),";\n  .MuiToggleButton-root {\n    flex: 1;\n    text-transform: none;\n    border-radius: ").concat(e.shape.borderRadius,"px;\n    color: ").concat(e.palette.text.primary,";\n    border-color: ").concat(e.palette.divider,";\n    \n    &.Mui-selected {\n      background-color: ").concat(e.palette.primary.main,";\n      color: ").concat(e.palette.primary.contrastText,";\n      &:hover {\n        background-color: ").concat(e.palette.primary.dark,";\n      }\n    }\n  }\n")}),nT=(0,u.A)(d.A)(n=>{let{theme:e}=n;return"\n  font-size: 14px;\n  letter-spacing: 0.14px;\n  font-weight: 500;\n  color: ".concat(e.palette.primary.main,";\n  &:hover {\n    font-weight: 600;\n  }\n")});function nD(){let[n,e]=(0,o.useState)("welcome"),[t,r]=(0,o.useState)(!0),{indicators:c,error:l}=(0,z.E)(),{t:d}=(0,G.Bd)(),{currentLanguage:u,changeLanguage:m}=(0,nj.ok)(),g=(0,o.useRef)(null),f=(0,o.useRef)(null),b=[{text:d("navigation.welcome"),icon:(0,i.jsx)(h.A,{}),id:"welcome"},{text:d("navigation.indicators"),icon:(0,i.jsx)(a.A,{component:"img",src:"/icons/leaf.svg",alt:"","aria-hidden":"true",sx:{width:24,height:24,filter:"indicators"===n?"brightness(0) invert(1)":"none"}}),id:"indicators"},{text:d("navigation.about"),icon:(0,i.jsx)(a.A,{component:"img",src:"/icons/information-variant-box.svg",sx:{width:24,height:24,filter:"information"===n?"brightness(0) invert(1)":"none"}}),id:"information"},{text:d("navigation.settings"),icon:(0,i.jsx)(nb.A,{}),id:"settings"}],j=null==c?void 0:c.reduce((n,e)=>(e.group&&(n[e.group]||(n[e.group]={group:e.group,groupFI:e.groupFI,indicators:[]}),n[e.group].indicators.push(e)),n),{});(0,o.useEffect)(()=>{if(t&&f.current){var n;f.current=document.activeElement;let e=null===(n=g.current)||void 0===n?void 0:n.querySelector("button");null==e||e.focus()}else f.current&&f.current.focus()},[t]),(0,o.useEffect)(()=>{let n=n=>{"Escape"===n.key&&t&&r(!1)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t]);let v=(0,o.useCallback)(i=>{i&&(n===i?r(!t):(e(i),r(!0)))},[n,t]),y=(0,o.useCallback)((n,e)=>{e&&("Enter"===n.key||" "===n.key)&&(n.preventDefault(),v(e))},[v]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nv,{"aria-label":"Main navigation",children:(0,i.jsxs)(ny,{role:"menubar",children:[(0,i.jsxs)(nM,{children:[(0,i.jsx)(nS,{children:(0,i.jsx)(ng.default,{src:"/innocap_logo.svg",alt:"Innocap Logo",width:68,height:68})}),(0,i.jsx)(s.A,{variant:"paragraph",fontWeight:600,color:"primary.dark",textAlign:"center",children:d("global.name")})]}),b.map(e=>{let r=e.id?{"aria-expanded":n===e.id&&t,"aria-haspopup":"dialog","aria-controls":"drawer-".concat(e.id)}:{};return(0,i.jsxs)(nA,{onClick:e.onClick||(()=>v(e.id)),onKeyDown:n=>y(n,e.id),className:e.id&&n===e.id?"selected":"",role:"menuitem",tabIndex:0,...r,children:[(0,i.jsx)(a.A,{sx:{width:{xs:20,md:24},height:{xs:20,md:24},"& img":{width:"100%",height:"100%"}},"aria-hidden":"true",children:e.icon}),(0,i.jsx)(s.A,{variant:"caption",component:"span",sx:{mt:{xs:.25,md:.5},textAlign:"center",fontSize:{xs:"0.65rem",md:"0.75rem"}},children:e.text})]},e.id||e.label)})]})}),(0,i.jsx)(nk,{className:t?"open":"",ref:g,role:"dialog","aria-modal":"true",id:n?"drawer-".concat(n):void 0,"aria-label":n?"".concat(n," panel"):void 0,children:(()=>{switch(n){case"welcome":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n_,{children:[(0,i.jsxs)(nE,{onClick:()=>r(!1),"aria-label":"Close panel",children:[(0,i.jsx)(a.A,{display:"flex",alignItems:"center",sx:{display:{xs:"none",md:"block"},height:"24px"},children:(0,i.jsx)(nh.A,{})}),(0,i.jsx)(a.A,{sx:{display:{xs:"block",md:"none"}},children:(0,i.jsx)(nm.A,{})})]}),(0,i.jsx)(s.A,{variant:"h2",color:"primary.darkest",children:d("welcome.title")}),(0,i.jsx)(a.A,{width:40})]}),(0,i.jsxs)(nI,{children:[(0,i.jsx)(nw,{variant:"h2",children:d("welcome.subtitle")}),(0,i.jsxs)(s.A,{variant:"paragraph",sx:{mb:3},children:[d("welcome.content.intro.text"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),d("welcome.content.purpose.text"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(G.x6,{i18nKey:"welcome.content.about.text",components:{innocapLink:(0,i.jsx)(nT,{href:d("welcome.content.about.links.innocapHref"),target:"_blank",rel:"noopener noreferrer",color:"primary"}),hidseLink:(0,i.jsx)(nT,{href:d("welcome.content.about.links.hidseHref"),target:"_blank",rel:"noopener noreferrer",color:"primary"}),ruraliaLink:(0,i.jsx)(nT,{href:d("welcome.content.about.links.ruraliaHref"),target:"_blank",rel:"noopener noreferrer",color:"primary"}),mindhiveLink:(0,i.jsx)(nT,{href:d("welcome.content.about.links.mindhiveHref"),target:"_blank",rel:"noopener noreferrer",color:"primary"})},values:{innocap:d("welcome.content.about.links.innocap"),innocapText:d("welcome.content.about.innocapText"),hidse:d("welcome.content.about.links.hidse"),ruralia:d("welcome.content.about.links.ruralia"),mindhive:d("welcome.content.about.links.mindhive")}})]}),(0,i.jsxs)(nC,{children:[(0,i.jsx)(a.A,{component:"img",src:"/innocap_funder_logo.png",alt:"Innocap Funder Logo"}),(0,i.jsx)(a.A,{component:"img",src:"/university_of_helsinki_ruralia.png",alt:"University of Helsinki Ruralia Institute Logo"})]})]})]});case"indicators":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n_,{children:[(0,i.jsxs)(nE,{onClick:()=>r(!1),"aria-label":"Close panel",children:[(0,i.jsx)(a.A,{display:"flex",alignItems:"center",sx:{display:{xs:"none",md:"block"},height:"24px"},children:(0,i.jsx)(nh.A,{})}),(0,i.jsx)(a.A,{sx:{display:{xs:"block",md:"none"}},children:(0,i.jsx)(nm.A,{})})]}),(0,i.jsx)(s.A,{variant:"h2",color:"primary.darkest",children:d("indicators.title")}),(0,i.jsx)(a.A,{width:40})]}),(0,i.jsx)(nI,{children:l?(0,i.jsx)(s.A,{color:"error",children:"Error loading indicators"}):Object.entries(j||{}).sort((n,e)=>{let[,t]=n,[,i]=e,r=t.indicators.some(n=>n.indicatorType===N._.Special),a=i.indicators.some(n=>n.indicatorType===N._.Special);return r?-1:a?1:0}).map(n=>{let[,e]=n;return(0,i.jsxs)("span",{children:[(0,i.jsx)(nw,{variant:"h2",children:"fi"===u?e.groupFI:e.group}),(0,i.jsx)(a.A,{children:e.indicators.map((n,e)=>(0,i.jsx)(nu,{indicator:n},"".concat(n.id,"-").concat(e)))})]},e.group)})})]});case"information":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n_,{children:[(0,i.jsxs)(nE,{onClick:()=>r(!1),"aria-label":"Close panel",children:[(0,i.jsx)(a.A,{display:"flex",alignItems:"center",sx:{display:{xs:"none",md:"block"},height:"24px"},children:(0,i.jsx)(nh.A,{})}),(0,i.jsx)(a.A,{sx:{display:{xs:"block",md:"none"}},children:(0,i.jsx)(nm.A,{})})]}),(0,i.jsx)(s.A,{variant:"h2",color:"primary.darkest",children:d("information.title")}),(0,i.jsx)(a.A,{width:40})]}),(0,i.jsxs)(nI,{children:[(0,i.jsx)(s.A,{variant:"paragraph",sx:{mb:3},children:d("information.description")}),(0,i.jsx)(nw,{variant:"h2",children:d("information.sections.navigation.title")}),(0,i.jsx)(s.A,{variant:"paragraph",sx:{mb:3},children:d("information.sections.navigation.items",{returnObjects:!0}).map(n=>(0,i.jsxs)(o.Fragment,{children:["• ",n,(0,i.jsx)("br",{})]},n))}),(0,i.jsx)(nw,{variant:"h2",children:d("information.sections.indicators.title")}),(0,i.jsx)(s.A,{variant:"paragraph",sx:{mb:3},children:d("information.sections.indicators.items",{returnObjects:!0}).map(n=>(0,i.jsxs)(o.Fragment,{children:["• ",n,(0,i.jsx)("br",{})]},n))}),(0,i.jsx)(nw,{variant:"h2",children:d("information.sections.ai.title")}),(0,i.jsx)(s.A,{variant:"paragraph",sx:{mb:3},children:d("information.sections.ai.items",{returnObjects:!0}).map(n=>(0,i.jsxs)(o.Fragment,{children:["• ",n,(0,i.jsx)("br",{})]},n))}),(0,i.jsx)(nw,{variant:"h2",children:d("information.sections.terms.title")}),(0,i.jsxs)(a.A,{sx:{mb:3},children:["• ",(0,i.jsx)(nT,{href:d("information.sections.terms.termsLink"),target:"_blank",rel:"noopener noreferrer",children:d("information.sections.terms.terms")}),(0,i.jsx)("br",{}),"• ",(0,i.jsx)(nT,{href:d("information.sections.terms.privacyLink"),target:"_blank",rel:"noopener noreferrer",children:d("information.sections.terms.privacy")})]})]})]});case"settings":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n_,{children:[(0,i.jsxs)(nE,{onClick:()=>r(!1),"aria-label":"Close panel",children:[(0,i.jsx)(a.A,{display:"flex",alignItems:"center",sx:{display:{xs:"none",md:"block"},height:"24px"},children:(0,i.jsx)(nh.A,{})}),(0,i.jsx)(a.A,{sx:{display:{xs:"block",md:"none"}},children:(0,i.jsx)(nm.A,{})})]}),(0,i.jsx)(s.A,{variant:"h2",color:"primary.darkest",children:d("settings.title")}),(0,i.jsx)(a.A,{width:40})]}),(0,i.jsxs)(nI,{children:[(0,i.jsx)(nw,{variant:"h2",children:d("settings.privacy.title")}),(0,i.jsxs)(a.A,{sx:{mb:3,display:"flex",flexDirection:"column"},children:[(0,i.jsx)(s.A,{variant:"paragraph",sx:{mb:2},children:d("settings.privacy.description")}),(0,i.jsx)(p.A,{variant:"outlined",onClick:nf.Vc,startIcon:(0,i.jsx)(nb.A,{}),sx:{width:"100%"},children:d("settings.privacy.cookiePreferences")})]}),(0,i.jsx)(nw,{variant:"h2",children:d("settings.language.title")}),(0,i.jsxs)(a.A,{sx:{mb:3,display:"flex",flexDirection:"column"},children:[(0,i.jsx)(s.A,{variant:"paragraph",sx:{mb:2},children:d("settings.language.select")}),(0,i.jsxs)(nF,{value:u,exclusive:!0,onChange:(n,e)=>e&&m(e),"aria-label":d("settings.language.select"),children:[(0,i.jsx)(x.A,{value:"en",children:"English"}),(0,i.jsx)(x.A,{value:"fi",children:"Suomi"})]})]})]})]});default:return null}})()})]})}var nL=t(60043);function nN(){let n=(0,m._)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  backdrop-filter: blur(2px);\n  -webkit-backdrop-filter: blur(2px);\n  z-index: 1150;\n"]);return nN=function(){return n},n}let nz=(0,u.A)(a.A)(nN());function nR(){return(0,i.jsx)(nz,{children:(0,i.jsx)(nL.A,{size:100,sx:{color:n=>n.palette.primary.main}})})}let nB=(0,r.default)(()=>Promise.all([t.e(233),t.e(703),t.e(31),t.e(166),t.e(246),t.e(137),t.e(258),t.e(39),t.e(200)]).then(t.bind(t,41200)).then(n=>n.LeafletMap),{loadableGenerated:{webpack:()=>[41200]},ssr:!1}),nH=(0,r.default)(()=>Promise.all([t.e(233),t.e(703),t.e(31),t.e(166),t.e(246),t.e(137),t.e(258),t.e(39),t.e(200)]).then(t.bind(t,41200)).then(n=>n.SplitMapView),{loadableGenerated:{webpack:()=>[41200]},ssr:!1}),nY=[[61.1,25.7],[62.6,29.75]],nO=n=>(null==n?void 0:n.indicatorType)===N._.MunicipalityLevel||(null==n?void 0:n.indicatorType)===N._.Special;function nP(){let{municipalityData:n,markerData:e,barChartData:t,isLoading:r}=(0,z.E)(),{selectedIndicator:o,pinnedIndicator:c,isCompareMode:s}=(0,L.h)(),l=[61.9,27.7],{currentLanguage:d}=(0,nj.ok)(),p=s&&nO(c)&&nO(o)&&!((null==o?void 0:o.id)===(null==c?void 0:c.id)&&(null==o?void 0:o.selectedYear)!==(null==c?void 0:c.selectedYear));return(0,i.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",height:"100vh",pb:{xs:"".concat(64,"px"),md:0},pl:{xs:0,md:"".concat(90,"px")}},children:[(0,i.jsx)(nD,{}),(0,i.jsxs)(a.A,{component:"main",sx:{flexGrow:1,position:"relative"},children:[r&&(0,i.jsx)(nR,{}),p?(0,i.jsx)(nH,{pinnedIndicator:c,selectedIndicator:o,municipalityData:n,markerData:e,barChartData:t,center:l,zoom:9,maxBounds:nY,language:d}):(0,i.jsx)(nB,{tabIndex:0,center:l,zoom:9,maxBounds:nY,minZoom:8,maxZoom:13,municipalityData:n,markerData:e,barChartData:t,selectedIndicator:o,pinnedIndicator:c,isPinned:!!c,language:d})]})]})}}},n=>{var e=e=>n(n.s=e);n.O(0,[737,149,33,959,550,863,587,855,358],()=>e(11208)),_N_E=n.O()}]);